<form class="todo" (ngSubmit)="updateTodo({ id: todo.id, title: editInput.value, completed: todo.completed }, true)">
    <div class="todo-container">
        <div class="todo-controls">
            <input [disabled]="selectedTodoId !== todo.id"
                   #editInput
                   class="form-control"
                   type="text"
                   [ngClass]="{ 'todo-selected': selectedTodoId == todo.id }"
                   name="title"
                   [ngModel]="todo.title"
            />
            <input #completed
                   *ngIf="selectedTodoId !== todo.id"
                   name="completed"
                   type="checkbox"
                   class="form-custom-checkbox"
                   [ngModel]="todo.completed"
                   (click)="updateTodo({ id: todo.id, title: todo.title, completed: completed.checked })"
            />
        </div>
        <div>
            <button type="button"
                    (click)="selectTodo(todo.id)"
                    *ngIf="selectedTodoId !== todo.id"
                    class="icon-button"
            ><span class="material-icons">edit</span></button>
            <button type="button"
                    (click)="deleteTodo(todo.id)"
                    *ngIf="selectedTodoId !== todo.id"
                    class="icon-button"
            ><span class="material-icons">delete</span></button>
            <button type="button"
                    (click)="selectTodo(null)"
                    *ngIf="selectedTodoId == todo.id"
                    class="icon-button"
            ><span class="material-icons">close</span></button>
            <button type="submit"
                    *ngIf="selectedTodoId == todo.id"
                    class="icon-button"
            ><span class="material-icons">save</span>
            </button>
        </div>
    </div>
</form>
